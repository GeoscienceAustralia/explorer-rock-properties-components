var rpComponents;!function(t){var e;!function(t){"use strict";var e=function(){function t(t,e,r,s,i,o,n,l,u){this.count=t,this.lat=e,this.lon=r,this.elev=s,this.lithologyGroup=i,this.property=o,this.provinceName=n,this.sampleType=l,this.stratigraphicUnitName=u}return t.$inject=["count","lat","lon","elev","lithologyGroup","property","provinceName","sampleType","stratigraphicUnitName"],t}();t.Cluster=e}(e=t.cluster||(t.cluster={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(t){var e;!function(e){"use strict";var r=function(){function t(t){this.$http=t}return t.prototype.init=function(t,e){this.viewer=t,this.serviceUrl=e},t.prototype.toggleClusters=function(){this.clustersEntity?this.clustersEntity.show=!this.clustersEntity.show:(this.clustersEntity=new Cesium.Entity,this.viewer.entities.add(this.clustersEntity),this.addClusters())},t.prototype.getClusters=function(){return this.$http.get(this.serviceUrl+"clusters")},t.prototype.addClusters=function(){var t=this;this.getClusters().then(function(e){if(e.data)for(var r=e.data,s=0;s<r.length;s++)t.drawCluster(r[s]);else console.log("got no clusters")})},t.prototype.drawCluster=function(t){var e=this.computeClusterAttributes(t.count);this.viewer.entities.add({parent:this.clustersEntity,label:{text:t.count.toString(),fillColor:Cesium.Color.BLACK,outlineColor:Cesium.Color.WHITE,eyeOffset:new Cesium.Cartesian3(0,2*e.size+t.elev,0)},position:Cesium.Cartesian3.fromDegrees(t.lon,t.lat,t.elev+e.size),ellipsoid:{radii:new Cesium.Cartesian3(e.size,e.size,e.size),material:e.color}})},t.prototype.computeClusterAttributes=function(t){return 10>t?{size:6e4,color:Cesium.Color.fromCssColorString("#4781cd").withAlpha(.5)}:t>=10&&250>t?{size:8e4,color:Cesium.Color.fromCssColorString("#0fc70e").withAlpha(.5)}:{size:9e4,color:Cesium.Color.fromCssColorString("#ff0000").withAlpha(.5)}},t.$inject=["$http"],t}();e.ClusterService=r,angular.module("explorer.rockproperties.clusters",[]).factory("clusterService",["$http",function(e){return new t.clusterService.ClusterService(e)}])}(e=t.clusterService||(t.clusterService={}))}(rpComponents||(rpComponents={}));
//# sourceMappingURL=explorer-rock-properties-components.min.js.map
