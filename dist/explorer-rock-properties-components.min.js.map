{"version":3,"sources":["components/charts.ts","explorer-rock-properties-components.min.js","components/clipship.ts","components/cluster-filters.ts","components/cluster-inspector.ts","components/clusters.ts","components/config.ts","components/control-panel.ts","components/gws-util.ts","components/query-builder-export.ts","components/spinner.ts","components/wms-inspector-state.ts","components/wms-inspector.ts","components/wms-points.ts","components/zoom.ts","templates/templates.ts"],"names":["rpComponents","rpComponents.chartService","rpComponents.chartService.ClusterChartCtrl","rpComponents.chartService.ClusterChartCtrl.constructor","rpComponents.chartService.ClusterChartService","rpComponents.chartService.ClusterChartService.constructor","rpComponents.chartService.ClusterChartService.hideChart","rpComponents.chartService.ClusterChartService.buildChart","rpComponents.chartService.ClusterChartService.buildChart.drawLegend","width","i","legendWidth","legendSpacing","height","color","d","attributeName","charSpace","radius","length","substring","total","d3","sum","property","data","map","count","Math","round","rpComponents.chartService.ClusterChartService.buildChart.prevLegend","rpComponents.chartService.ClusterChartService.buildChart.nextLegend","this","_current","percent","tooltip","select","html","style","x","event","pageX","panelWidth","y","pageY","document","body","clientHeight","getElementById","display","templateUrl","controller","ClusterChartCtrl","controllerAs","rpComponents.clipShipService","rpComponents.clipShipService.RocksClipShipCtrl","rpComponents.clipShipService.RocksClipShipCtrl.constructor","rpComponents.clipShipService.RocksClipShipCtrl.startClipShip","rpComponents.clipShipService.RocksClipShipService","rpComponents.clipShipService.RocksClipShipService.constructor","rpComponents.clipShipService.RocksClipShipService.startDraw","rpComponents.clipShipService.RocksClipShipService.openGeoserver","rpComponents.clipShipService.RocksClipShipService.updateExportFormat","RocksClipShipCtrl","rpComponents.filters","rpComponents.filters.RocksClusterFilterCtrl","rpComponents.filters.RocksClusterFilterCtrl.constructor","rpComponents.filters.ClusterFilterState","rpComponents.filters.ClusterFilterState.constructor","rpComponents.filters.RocksFiltersService","rpComponents.filters.RocksFiltersService.constructor","rpComponents.filters.RocksFiltersService.setAllExportSelected","rpComponents.filters.RocksFiltersService.applyFilters","rpComponents.filters.RocksFiltersService.buildFilterQuery","rpComponents.filters.RocksFiltersService.clearFilters","RocksClusterFilterCtrl","rpComponents.clusterInspector","rpComponents.clusterInspector.ClusterInspectorCtrl","rpComponents.clusterInspector.ClusterInspectorCtrl.constructor","rpComponents.clusterInspector.ClusterInspectorService","rpComponents.clusterInspector.ClusterInspectorService.constructor","rpComponents.clusterInspector.ClusterInspectorService.init","rpComponents.clusterInspector.ClusterInspectorService.chartClusterQuery","rpComponents.clusterInspector.ClusterInspectorService.loadNextListStep","rpComponents.clusterInspector.ClusterInspectorService.listClusterQuery","rpComponents.clusterInspector.ClusterInspectorService.setPickEnabled","rpComponents.clusterInspector.ClusterInspectorService.setClusterPrimitive","rpComponents.clusterInspector.ClusterInspectorService.setHighlighted","rpComponents.clusterInspector.ClusterInspectorService.clearHighlighted","ClusterInspectorCtrl","rpComponents.clusterService","rpComponents.clusterService.ClusterService","rpComponents.clusterService.ClusterService.constructor","properties","rpComponents.clusterService.ClusterService.toggleClusters","rpComponents.clusterService.ClusterService.getClusters","rpComponents.clusterService.ClusterService.drawClusters","rpComponents.clusterService.ClusterService.buildClusterInstance","rpComponents.clusterService.ClusterService.buildLabel","rpComponents.clusterService.ClusterService.computeClusterAttributes","rpComponents.config","rpComponents.config.RocksConfigService","rpComponents.config.RocksConfigService.constructor","rpComponents.config.RocksConfigService.setConfig","rpComponents.controlPanel","rpComponents.controlPanel.RocksPanelCtrl","rpComponents.controlPanel.RocksPanelCtrl.constructor","rpComponents.controlPanel.RocksPanelCtrl.setTargetPanel","rpComponents.controlPanel.RocksPanelService","rpComponents.controlPanel.RocksPanelService.constructor","rpComponents.controlPanel.RocksPanelService.init","rpComponents.controlPanel.RocksPanelService.toggleClusters","rpComponents.controlPanel.RocksPanelService.togglePoints","RocksPanelCtrl","rpComponents.gwsUtilService","rpComponents.gwsUtilService.GwsUtilService","rpComponents.gwsUtilService.GwsUtilService.constructor","rpComponents.gwsUtilService.GwsUtilService.getWfsFeatureTypeNames","console","log","err","deferred","error","rpComponents.gwsUtilService.GwsUtilService.getFeatureTypeNamesFromWfsCapsJson","rpComponents.gwsUtilService.GwsUtilService.getWmsLayerNames","rpComponents.gwsUtilService.GwsUtilService.getLayerNamesFromWmsCapsJson","rpComponents.gwsUtilService.GwsUtilService.xmlToJson","rpComponents.queryBuilderExport","rpComponents.queryBuilderExport.QueryBuilder","rpComponents.queryBuilderExport.QueryBuilder.constructor","rpComponents.queryBuilderExport.QueryBuilder.startClipShip","rpComponents.queryBuilderExport.QueryBuilder.buildQuery","rpComponents.queryBuilderExport.QueryBuilder.buildQuery.isEmpty","rpComponents.queryBuilderExport.QueryBuilder.getFilters","rpComponents.queryBuilderExport.QueryBuilder.getPropertyQuery","rpComponents.queryBuilderExport.QueryBuilder.getTypeNamesQuery","rpComponents.spinnerService","rpComponents.spinnerService.LoadingSpinnerService","rpComponents.spinnerService.LoadingSpinnerService.addSpinner","spin","selection","duration","interpolateString","min","config","tau","PI","arc","svg","innerRadius","outerRadius","startAngle","container","append","attr","id","datum","endAngle","call","rpComponents.wmsInspectorState","rpComponents.wmsInspectorState.WmsInspectorState","rpComponents.wmsInspectorState.WmsInspectorState.constructor","rpComponents.wmsInspectorService","rpComponents.wmsInspectorService.WmsInspectorCtrl","rpComponents.wmsInspectorService.WmsInspectorCtrl.constructor","rpComponents.wmsInspectorService.WmsInspectorService","rpComponents.wmsInspectorService.WmsInspectorService.constructor","rpComponents.wmsInspectorService.WmsInspectorService.togglePointInspector","rpComponents.wmsInspectorService.WmsInspectorService.queryRocks","rpComponents.wmsInspectorService.WmsInspectorService.queryFeature","featureInfo","toggleLoading","rpComponents.wmsInspectorService.WmsInspectorService.toggleLoading","WmsInspectorCtrl","rpComponents.pointsService","rpComponents.pointsService.RocksWmsPointsCtrl","rpComponents.pointsService.RocksWmsPointsCtrl.constructor","rpComponents.pointsService.WmsPointsService","rpComponents.pointsService.WmsPointsService.constructor","rpComponents.pointsService.WmsPointsService.init","rpComponents.pointsService.WmsPointsService.togglePoints","rpComponents.pointsService.WmsPointsService.toggleChecked","rpComponents.pointsService.WmsPointsService.getLegendData","rpComponents.pointsService.WmsPointsService.updatePointsLayer","RocksWmsPointsCtrl","rpComponents.zoom","rpComponents.zoom.ZoomLevelService","rpComponents.zoom.ZoomLevelService.constructor","rpComponents.zoom.ZoomLevelService.getIndex","rpComponents.zoom.ZoomLevelService.setActive","rpComponents.zoom.ZoomLevelService.getViewExtent","angular","module","run","$templateCache","put"],"mappings":"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","file":"explorer-rock-properties-components.min.js","sourceRoot":"/source/","sourcesContent":[null,"var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r){this.$scope=e,this.clusterChartService=t,this.clusterService=r}return e.$inject=[\"$scope\",\"clusterChartService\",\"clusterService\"],e}();t.ClusterChartCtrl=r;var n=function(){function e(e,t){this.$http=e,this.$rootScope=t}return e.prototype.hideChart=function(){this.$rootScope.$broadcast(\"chart.update\",{targetChartId:!1})},e.prototype.buildChart=function(e){document.getElementById(\"cluster-summary-chart-d3\").innerHTML=\"\",this.$rootScope.$broadcast(\"chart.update\",{targetChartId:\"clusterSummaryChart\"});var t=[];angular.forEach(e.properties,function(e,r){var n=[];angular.forEach(e,function(e,t){n.push({attributeName:t,count:e})}),t.push({propertyName:r,data:n})});var r,n,i,s,o=1250,c=255,a=t.length<7?t.length:4;.35*document.body.clientHeight>c&&document.body.clientWidth>o?(i={top:0,right:10,bottom:0,left:10},r=document.body.clientWidth/a-(2*i.left+i.right),n=.35*document.body.clientHeight,s=20):(i={top:0,right:5,bottom:0,left:5},r=o/a-(2*i.left+i.right),n=c,s=15);var l=document.body.clientWidth-(2*i.left+i.right),p=Math.min(r,n)/2;t.forEach(function(e){function t(t,i,s,l){var h=u.selectAll(\"g.legendg\").data(t).enter().append(\"g\").attr(\"class\",\"legendg\").attr(\"transform\",function(e,t){return\"translate(\"+-(r/2.3)+\",\"+(t*(y+k)-n/4)+\")\"}),d=h.append(\"rect\").attr(\"x\",45).attr(\"width\",y).attr(\"height\",y).attr(\"class\",\"legend\").style(\"fill\",function(e,t){return a(e.attributeName)}),v=h.append(\"text\").attr(\"x\",65).attr(\"y\",6).attr(\"dy\",\".35em\").style(\"text-anchor\",\"start\").text(function(e){var t=(p-20)/5;return e.attributeName.length>t?e.attributeName.substring(0,t)+\"...\":e.attributeName});if(d.append(\"svg:title\").text(function(t){var r=d3.sum(e.data.map(function(e){return e.count}));return t.attributeName+\" (\"+Math.round(1e3*t.count/r)/10+\"%)\"}),v.append(\"svg:title\").text(function(t){var r=d3.sum(e.data.map(function(e){return e.count}));return t.attributeName+\" (\"+Math.round(1e3*t.count/r)/10+\"%)\"}),l>1){var g=u.append(\"g\").attr(\"class\",\"pageNo\").attr(\"transform\",\"translate(-10,\"+((i+1)*(y+k)-n/4)+\")\");g.append(\"text\").text(s+\"/\"+l).attr(\"dx\",\".25em\");var m=u.append(\"g\").attr(\"class\",\"prev\").attr(\"transform\",\"translate(-20,\"+((i+1.5)*(y+k)-n/4)+\")\").on(\"click\",o).style(\"cursor\",\"pointer\"),f=u.append(\"g\").attr(\"class\",\"next\").attr(\"transform\",\"translate(0,\"+((i+1.5)*(y+k)-n/4)+\")\").on(\"click\",c).style(\"cursor\",\"pointer\");f.append(\"polygon\").style(\"stroke\",\"#000\").style(\"fill\",\"#000\").attr(\"points\",\"0,0, 20,0, 10,10\"),m.append(\"polygon\").style(\"stroke\",\"#000\").style(\"fill\",\"#000\").attr(\"points\",\"0,10, 20,10, 10,0\"),s==l?(f.style(\"opacity\",\"0.3\"),f.on(\"click\",\"\").style(\"cursor\",\"\")):1==s&&(m.style(\"opacity\",\"0.3\"),m.on(\"click\",\"\").style(\"cursor\",\"\"))}}function o(){S--,u.selectAll(\"g.legendg\").remove(),u.select(\".pageNo\").remove(),u.select(\".prev\").remove(),u.select(\".next\").remove();for(var r=(S-1)*m,n=r+m,i=[],s=0;s<e.data.length;s++)s>=r&&n>s&&i.push(e.data[s]);t(i,m,S,f)}function c(){S++,u.selectAll(\"g.legendg\").remove(),u.select(\".pageNo\").remove(),u.select(\".prev\").remove(),u.select(\".next\").remove();for(var r=(S-1)*m,n=r+m,i=[],s=0;s<e.data.length;s++)s>=r&&n>s&&i.push(e.data[s]);t(i,m,S,f)}var a=d3.scale.category20(),u=d3.select(\"#cluster-summary-chart-d3\").append(\"svg\").attr(\"width\",r).attr(\"height\",n).style(\"margin-left\",i.left+\"px\").style(\"margin-right\",i.right+\"px\").append(\"g\").attr(\"transform\",\"translate(\"+r/2+\",\"+(n/2+10)+\")\"),h=d3.svg.arc().innerRadius(p-s).outerRadius(p),d=d3.layout.pie().value(function(e){return e.count}).sort(null),v=d3.select(\"#cluster-summary-chart-d3\").append(\"div\").attr(\"class\",\"cluster-summary-tooltip\");v.append(\"div\").attr(\"class\",\"attribute\"),v.append(\"div\").attr(\"class\",\"count\"),v.append(\"div\").attr(\"class\",\"percent\");var g=u.selectAll(\"path\").data(d(e.data)).enter().append(\"path\").attr(\"d\",h).attr(\"fill\",function(e,t){return a(e.data.attributeName)}).each(function(e){this._current=e});g.on(\"mouseover\",function(t){var r=d3.sum(e.data.map(function(e){return e.count})),n=Math.round(1e3*t.data.count/r)/10;v.select(\".attribute\").html(t.data.attributeName),v.select(\".count\").html(\"Count: \"+t.data.count),v.select(\".percent\").html(\"Percent: \"+n+\"%\"),v.style(\"display\",\"block\")}),g.on(\"mouseout\",function(){v.style(\"display\",\"none\")}),g.on(\"mousemove\",function(e){var t=d3.event.pageX>l-180?d3.event.pageX-180:d3.event.pageX,r=d3.event.pageY>document.body.clientHeight-120?d3.event.pageY-100:d3.event.pageY+10;v.style(\"top\",r+\"px\").style(\"left\",t+\"px\")}),u.append(\"g\").attr(\"class\",\"cluster-summary-chart-title\").append(\"text\").attr(\"x\",0).attr(\"y\",-(n/2+7)).attr(\"dy\",\".71em\").style(\"text-anchor\",\"middle\").style(\"fill\",\"#000\").style(\"font-weight\",\"bold\").text(e.propertyName);var m,f,S,C=e.data.length,y=15,k=6,w=(y+k)*C;if(w/p>1){m=Math.floor(p/(y+k)),f=Math.ceil(C/m),S=1;for(var x=(S-1)*m,b=x+m,I=[],P=0;P<e.data.length;P++)P>=x&&b>P&&I.push(e.data[P]);t(I,m,S,f)}else t(e.data,Math.floor(p/(y+k)),1,1)}),document.getElementById(\"cluster-summary-chart-d3\").style.display=\"none\",setTimeout(function(){document.getElementById(\"cluster-summary-chart-loading\").style.display=\"none\",document.getElementById(\"cluster-summary-chart-d3\").style.display=\"block\"},1500)},e.$inject=[\"$http\",\"$rootScope\"],e}();t.ClusterChartService=n,angular.module(\"explorer.rockproperties.charts\",[]).factory(\"clusterChartService\",[\"$http\",\"$rootScope\",function(t,r){return new e.chartService.ClusterChartService(t,r)}]).controller(\"clusterChartCtrl\",r).directive(\"clusterChartSummary\",function(){return{templateUrl:\"rockprops/cluster-summary.html\",controller:r,controllerAs:\"clusterChartVM\"}})}(t=e.chartService||(e.chartService={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r,n,i,s){this.$scope=e,this.$timeout=t,this.rocksClipShipService=r,this.rocksPanelService=n,this.rocksFiltersService=i,this.rocksQueryBuilderExport=s}return e.prototype.startClipShip=function(){var e=this;this.$timeout(function(){e.rocksClipShipService.step=\"download\",e.rocksQueryBuilderExport.startClipShip(e.rocksFiltersService.exportProperties.filterOptions,e.rocksClipShipService.targetFormat,e.rocksClipShipService.targetExtent)})},e.$inject=[\"$scope\",\"$timeout\",\"rocksClipShipService\",\"rocksPanelService\",\"rocksFiltersService\",\"rocksQueryBuilderExport\"],e}();t.RocksClipShipCtrl=r;var n=function(){function e(e,t,r){var n=this;this.$rootScope=e,this.rocksFiltersService=t,this.rocksConfigService=r,this.step=\"startDraw\",this.isDrawing=!1,this.$inject=[\"$rootScope\",\"rocksFiltersService\",\"rocksConfigService\"],this.$rootScope.$on(\"rocks.config.ready\",function(){n.exportFormats=n.rocksConfigService.config.geoserverWfsExportFormats}),this.$rootScope.$on(\"rocks.extent.ready\",function(e,t){n.step=\"selectFeatures\",n.targetExtent=t})}return e.prototype.startDraw=function(){this.isDrawing=!0,this.$rootScope.$broadcast(\"draw.extent.start\",\"rocks.extent.ready\")},e.prototype.openGeoserver=function(){var e=window.open(this.rocksConfigService.config.geoserverDashboardUrl,\"_blank\");e&&e.focus()},e.prototype.updateExportFormat=function(e){this.targetFormat=e},e}();t.RocksClipShipService=n,angular.module(\"explorer.rockproperties.clipship\",[]).factory(\"rocksClipShipService\",[\"$rootScope\",\"rocksFiltersService\",\"rocksConfigService\",function(t,r,n){return new e.clipShipService.RocksClipShipService(t,r,n)}]).controller(\"rocksClipShipCtrl\",r).directive(\"rocksClipShip\",function(){return{templateUrl:\"rockprops/clip-ship.html\",controller:r,controllerAs:\"rocksClipShipVM\"}}).filter(\"noClipSelected\",[function(e){return function(e){if(e){for(var t=0;t<e.length;t++)if(e[t].isSelected)return!1;return!0}}}])}(t=e.clipShipService||(e.clipShipService={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r,n){this.$scope=e,this.clusterService=t,this.rocksPanelService=r,this.rocksFiltersService=n}return e.$inject=[\"$scope\",\"clusterService\",\"rocksPanelService\",\"rocksFiltersService\"],e}();t.RocksClusterFilterCtrl=r;var n=function(){function e(){this.filterQuery=\"\"}return e}();t.ClusterFilterState=n;var i=function(){function e(e,t,r,n,i){var s=this;this.$http=e,this.$rootScope=t,this.rocksConfigService=r,this.clusterService=n,this.clusterFilterState=i,this.clusterFilters={},this.$inject=[\"$http\",\"$rootScope\",\"rocksConfigService\",\"clusterService\",\"clusterFilterState\"],this.$rootScope.$on(\"rocks.config.ready\",function(){e.get(s.rocksConfigService.config.filterNamesServiceUrl).then(function(e){s.filters=e.data;for(var t=0;t<s.filters.length;t++)if(\"PROPERTY\"==s.filters[t].filterType){for(var r=angular.copy(s.filters[t].filterOptions),n=0;n<r.length;n++)r[n]={name:r[n],isSelected:!1};var i=angular.copy(s.filters[t]);i.filterOptions=r,s.exportProperties=i}}),function(e){console.log(\"Failed to get rock props filters\"),console.log(e)}})}return e.prototype.setAllExportSelected=function(e){for(var t=0;t<this.exportProperties.filterOptions.length;t++)this.exportProperties.filterOptions[t].isSelected=e},e.prototype.applyFilters=function(){this.clusterFilterState.filterQuery=this.buildFilterQuery(),this.clusterService.reCluster(),ga(\"send\",\"event\",\"explorer-rock-properties\",\"click\",\"cluster filters applied\")},e.prototype.buildFilterQuery=function(){for(var e=\"\",t=0;t<this.filters.length;t++)this.filters[t].hasOwnProperty(\"ClusterOption\")&&0!=this.filters[t].ClusterOption&&(e=e+\"&filter=\"+encodeURIComponent(this.filters[t].filterType+\"=\"+this.filters[t].ClusterOption));return e},e.prototype.clearFilters=function(){for(var e=0;e<this.filters.length;e++)this.filters[e].hasOwnProperty(\"ClusterOption\")&&(this.filters[e].ClusterOption=!1);this.clusterFilterState.filterQuery=\"\",this.clusterService.reCluster()},e}();t.RocksFiltersService=i,angular.module(\"explorer.rockproperties.clusterfilters\",[]).controller(\"rocksClusterFilterCtrl\",r).directive(\"rocksClusterFilters\",function(){return{templateUrl:\"rockprops/cluster-filters.html\",controller:r,controllerAs:\"rocksClusterFilterVM\"}}).factory(\"rocksFiltersService\",[\"$http\",\"$rootScope\",\"rocksConfigService\",\"clusterService\",\"clusterFilterState\",function(t,r,n,i,s){return new e.filters.RocksFiltersService(t,r,n,i,s)}]).factory(\"clusterFilterState\",[function(){return new e.filters.ClusterFilterState}])}(t=e.filters||(e.filters={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r){this.$scope=e,this.clusterInspectorService=t,this.rocksPanelService=r}return e.$inject=[\"$scope\",\"clusterInspectorService\",\"rocksPanelService\"],e}();t.ClusterInspectorCtrl=r;var n=function(){function e(e,t,r,n,i,s,o,c){var a=this;this.$http=e,this.$rootScope=t,this.$timeout=r,this.zoomLevelService=n,this.loadingSpinnerService=i,this.rocksConfigService=s,this.clusterChartService=o,this.clusterFilterState=c,this.inspectMode=\"CHART\",this.listReady=!1,this.maxListStep=100,this.$rootScope.$on(\"rocks.config.ready\",function(){a.init()})}return e.prototype.init=function(){var e=this;this.viewer=this.rocksConfigService.viewer,this.serviceUrl=this.rocksConfigService.config.rocksServiceUrl,this.rocksConfigService.config.useClusterPicking&&(this.pickHandler=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.pickHandlerAction=function(t){var r=e.viewer.scene.pick(t.position);Cesium.defined(r)&&Cesium.defined(r.id)&&r.id.hasOwnProperty(\"properties\")&&\"rockPropsCluster\"==r.id.properties.featureType&&(e.listReady=!1,e.clearHighlighted(),e.targetId=r.id,e.setHighlighted(e.targetId,!0),e.targetPos=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e.viewer.camera.pickEllipsoid(t.position)),\"CHART\"==e.inspectMode?e.chartClusterQuery():(e.listIndex=0,e.listClusterQuery()))})},e.prototype.chartClusterQuery=function(){var e=this;this.summarySpinner?document.getElementById(\"cluster-summary-chart-loading\").style.display=\"block\":(this.summarySpinner=this.loadingSpinnerService.addSpinner({width:100,height:100,container:\"#cluster-summary-chart-loading\",id:\"chart-spinner\"}),this.summarySpinner());var t=\"?zoom=\"+this.zoomLevelService.nextIndex+\"&x=\"+Cesium.Math.toDegrees(this.targetPos.longitude)+\"&y=\"+Cesium.Math.toDegrees(this.targetPos.latitude);this.clusterFilterState.filterQuery;var r=this.serviceUrl+\"query\"+t;console.log(\"query\"),console.log(r),this.$http({method:\"GET\",url:this.serviceUrl+\"/geojson-cluster.json\"}).then(function(t){t.hasOwnProperty(\"data\")&&e.clusterChartService.buildChart(t.data)}),ga(\"send\",\"event\",\"explorer-rock-properties\",\"click\",\"cluster inspector summary charts\")},e.prototype.loadNextListStep=function(){this.listIndex+=this.maxListStep,console.log(\"loadNextListStep \"+this.listIndex),this.listClusterQuery()},e.prototype.listClusterQuery=function(){var e=this;console.log(\"listClusterQuery\"),this.listSpinner?document.getElementById(\"cluster-result-list-loading\").style.display=\"block\":(this.listSpinner=this.loadingSpinnerService.addSpinner({width:100,height:100,container:\"#cluster-result-list-loading\",id:\"cluster-result-list-spinner\"}),this.listSpinner());var t=\"?zoom=\"+this.zoomLevelService.nextIndex+\"&maxCount=\"+this.maxListStep+\"&startIndex=\"+this.listIndex+\"&x=\"+Cesium.Math.toDegrees(this.targetPos.longitude)+\"&y=\"+Cesium.Math.toDegrees(this.targetPos.latitude);this.clusterFilterState.filterQuery;var r=this.serviceUrl+\"features\"+t;console.log(\"features query\"),console.log(r),this.$http({method:\"GET\",url:this.serviceUrl+\"/mock-feature-list.json\"}).then(function(t){t.hasOwnProperty(\"data\")&&e.$timeout(function(){document.getElementById(\"cluster-result-list-loading\").style.display=\"none\",e.listReady=!0,0!=e.listIndex?e.listFeatures.features=e.listFeatures.features.concat(t.data.features):e.listFeatures=t.data},1e3)}),ga(\"send\",\"event\",\"explorer-rock-properties\",\"click\",\"cluster inspector feature list (startIndex: \"+this.listIndex+\")\")},e.prototype.setPickEnabled=function(e){e?this.pickHandler.setInputAction(this.pickHandlerAction,Cesium.ScreenSpaceEventType.LEFT_CLICK):this.pickHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK)},e.prototype.setClusterPrimitive=function(e){this.clusterPrimitive=e},e.prototype.setHighlighted=function(e,t){var r=this.clusterPrimitive.getGeometryInstanceAttributes(e);r&&t&&(r.prevColor=r.color,r.color=Cesium.ColorGeometryInstanceAttribute.toValue(Cesium.Color.fromCssColorString(\"#ff00ff\").withAlpha(1)))},e.prototype.clearHighlighted=function(){if(this.targetId){var e=this.clusterPrimitive.getGeometryInstanceAttributes(this.targetId);e&&e.hasOwnProperty(\"prevColor\")&&(e.color=e.prevColor)}},e.$inject=[\"$http\",\"$rootScope\",\"$timeout\",\"zoomLevelService\",\"loadingSpinnerService\",\"rocksConfigService\",\"clusterChartService\",\"clusterFilterState\"],e}();t.ClusterInspectorService=n,angular.module(\"explorer.rockproperties.clusterinspector\",[]).controller(\"clusterInspectorCtrl\",r).directive(\"rocksClusterInspectorPanel\",function(){return{templateUrl:\"rockprops/cluster-inspector.html\",controller:r,controllerAs:\"clusterInspectorVM\"}}).factory(\"clusterInspectorService\",[\"$http\",\"$rootScope\",\"$timeout\",\"zoomLevelService\",\"loadingSpinnerService\",\"rocksConfigService\",\"clusterChartService\",\"clusterFilterState\",function(t,r,n,i,s,o,c,a){return new e.clusterInspector.ClusterInspectorService(t,r,n,i,s,o,c,a)}])}(t=e.clusterInspector||(e.clusterInspector={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r,n,i,s,o,c){var a=this;this.$http=e,this.$rootScope=t,this.zoomLevelService=r,this.clusterChartService=n,this.loadingSpinnerService=i,this.rocksConfigService=s,this.clusterInspectorService=o,this.clusterFilterState=c,this.clusterRangeMeta={maxExtrudeHeight:5e5},this.clusterFilter=\"\",this.reCluster=function(){var e=[],t=new Cesium.LabelCollection;a.getClusters().then(function(r){if(r.data&&r.data.features){var n=r.data.features;a.clusterRangeMeta.maxCount=d3.max(n,function(e){return e.properties.count}),a.clusterRangeMeta.scale=d3.scale.linear().domain([0,a.clusterRangeMeta.maxCount]).range([0,a.clusterRangeMeta.maxExtrudeHeight]);for(var i=0;i<n.length;i++){n[i].properties.featureType=\"rockPropsCluster\";var s=a.computeClusterAttributes(n[i].properties.count);e.push(a.buildClusterInstance(n[i],s)),t.add(a.buildLabel(n[i],s))}a.drawClusters(e,t)}else console.log(\"got no clusters\"),console.log(r)})},this.$rootScope.$on(\"rocks.config.ready\",function(){a.viewer=a.rocksConfigService.viewer,a.serviceUrl=a.rocksConfigService.config.rocksServiceUrl}),this.$rootScope.$on(\"rocks.clusters.update\",function(){a.reCluster()})}return e.prototype.toggleClusters=function(){return this.clustersCollection?(this.clustersCollection.show=!this.clustersCollection.show,this.zoomLevelService.setActive(this.clustersCollection.show),this.clustersCollection.show?this.clusterInspectorService.setPickEnabled(!0):this.clusterInspectorService.setPickEnabled(!1),this.reCluster()):(this.clustersCollection=new Cesium.PrimitiveCollection,this.viewer.scene.primitives.add(this.clustersCollection),this.zoomLevelService.setActive(!0),this.reCluster(),this.clusterInspectorService.setPickEnabled(!0)),this.clustersCollection.show},e.prototype.getClusters=function(){var e=\"?zoom=\"+this.zoomLevelService.nextIndex+\"&xmin=\"+this.zoomLevelService.getViewExtent(100).west+\"&xmax=\"+this.zoomLevelService.getViewExtent(100).east+\"&ymin=\"+this.zoomLevelService.getViewExtent(100).south+\"&ymax=\"+this.zoomLevelService.getViewExtent(100).north+this.clusterFilterState.filterQuery;return console.log(\"summary query: \"+this.serviceUrl+e),this.$http({method:\"GET\",url:this.serviceUrl+\"mock-summary-\"+this.zoomLevelService.nextIndex+\".json\"})},e.prototype.drawClusters=function(e,t){this.clustersCollection.removeAll(),this.clusterPrimitive=new Cesium.Primitive({geometryInstances:e,appearance:new Cesium.PerInstanceColorAppearance({translucent:!0,closed:!0})}),this.clusterInspectorService.setClusterPrimitive(this.clusterPrimitive),this.clustersCollection.add(this.clusterPrimitive),this.clustersCollection.add(t)},e.prototype.buildClusterInstance=function(e,t){return new Cesium.GeometryInstance({geometry:new Cesium.CircleGeometry({center:Cesium.Cartesian3.fromDegrees(e.geometry.coordinates[0],e.geometry.coordinates[1]),radius:t.radius,vertexFormat:Cesium.PerInstanceColorAppearance.VERTEX_FORMAT,extrudedHeight:t.extrudeHeight}),id:e,attributes:{color:Cesium.ColorGeometryInstanceAttribute.fromColor(t.color)}})},e.prototype.buildLabel=function(e,t){return{position:Cesium.Cartesian3.fromDegrees(e.geometry.coordinates[0],e.geometry.coordinates[1],1e4+t.extrudeHeight),text:e.properties.count.toString(),fillColor:Cesium.Color.BLACK,outlineColor:Cesium.Color.RED,font:45-3*this.zoomLevelService.nextIndex+\"px arial, sans-serif\",horizontalOrigin:Cesium.HorizontalOrigin.CENTER,id:e}},e.prototype.computeClusterAttributes=function(e){var t=this.zoomLevelService.zoomLevels[this.zoomLevelService.zoomLevels.length-this.zoomLevelService.nextIndex]/100;console.log(\"RADIUS \"+t);var r={radius:t,extrudeHeight:this.clusterRangeMeta.scale(e)/(this.zoomLevelService.nextIndex/3)};return 100>e?r.color=Cesium.Color.fromCssColorString(\"#4781cd\").withAlpha(.5):e>=10&&1e3>e?r.color=Cesium.Color.fromCssColorString(\"#0fc70e\").withAlpha(.5):r.color=Cesium.Color.fromCssColorString(\"#ff0000\").withAlpha(.5),r},e.$inject=[\"$http\",\"$rootScope\",\"zoomLevelService\",\"clusterChartService\",\"loadingSpinnerService\",\"rocksConfigService\",\"clusterInspectorService\",\"clusterFilterState\"],e}();t.ClusterService=r,angular.module(\"explorer.rockproperties.clusters\",[]).factory(\"clusterService\",[\"$http\",\"$rootScope\",\"zoomLevelService\",\"clusterChartService\",\"loadingSpinnerService\",\"rocksConfigService\",\"clusterInspectorService\",\"clusterFilterState\",function(t,r,n,i,s,o,c,a){return new e.clusterService.ClusterService(t,r,n,i,s,o,c,a)}])}(t=e.clusterService||(e.clusterService={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e){this.$rootScope=e}return e.prototype.setConfig=function(e,t){this.config=e,this.viewer=t,this.$rootScope.$broadcast(\"rocks.config.ready\")},e.$inject=[\"$rootScope\"],e}();t.RocksConfigService=r,angular.module(\"explorer.rockproperties.config\",[]).factory(\"rocksConfigService\",[\"$rootScope\",function(t){return new e.config.RocksConfigService(t)}])}(t=e.config||(e.config={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r){var n=this;this.$scope=e,this.rocksPanelService=t,this.wmsInspectorService=r,this.targetPanel=\"\",this.$scope.$on(\"rocks.accordion.update\",function(e,t){n.targetPanel=t})}return e.prototype.setTargetPanel=function(e){this.targetPanel=this.targetPanel!=e?e:\"\"},e.$inject=[\"$scope\",\"rocksPanelService\",\"wmsInspectorService\"],e}();t.RocksPanelCtrl=r;var n=function(){function e(e,t,r,n){this.$rootScope=e,this.clusterService=t,this.wmsPointsService=r,this.rocksConfigService=n,this.clustersEnabled=!1,this.pointsEnabled=!1}return e.prototype.init=function(e,t){this.viewer=e,this.rocksConfigService.setConfig(t,e)},e.prototype.toggleClusters=function(){this.clustersEnabled=this.clusterService.toggleClusters()},e.prototype.togglePoints=function(){this.pointsEnabled=this.wmsPointsService.togglePoints()},e.$inject=[\"$rootScope\",\"clusterService\",\"wmsPointsService\",\"rocksConfigService\"],e}();t.RocksPanelService=n,angular.module(\"explorer.rockproperties.controlpanel\",[]).factory(\"rocksPanelService\",[\"$rootScope\",\"clusterService\",\"wmsPointsService\",\"rocksConfigService\",function(t,r,n,i){return new e.controlPanel.RocksPanelService(t,r,n,i)}]).controller(\"rocksPanelCtrl\",r).directive(\"rocksControlPanel\",function(){return{templateUrl:\"rockprops/control-panel.html\",controller:r,controllerAs:\"controlPanelVM\"}})}(t=e.controlPanel||(e.controlPanel={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r){this.$q=e,this.$http=t,this.rocksConfigService=r}return e.prototype.getWfsFeatureTypeNames=function(){var e=this,t=this.$q.defer();return this.$http.get(this.rocksConfigService.config.geoserverWfsUrl+\"?request=GetCapabilities&service=wfs&version=\"+this.rocksConfigService.config.geoserverWfsVersion).success(function(r,n,i,s){var o=e.getFeatureTypeNamesFromWfsCapsJson(e.xmlToJson($.parseXML(r)));t.resolve(o)}).error(function(e){console.log(\"GetCapabilities request failed\"),console.log(e),t.error()}),t.promise},e.prototype.getFeatureTypeNamesFromWfsCapsJson=function(e){for(var t=e[\"wfs:WFS_Capabilities\"].FeatureTypeList.FeatureType,r=[],n=0;n<t.length;n++)r.push(t[n].Name[\"#text\"]);return r},e.prototype.getWmsLayerNames=function(){var e=this,t=this.$q.defer();return this.$http.get(this.rocksConfigService.config.geoserverWmsUrl+\"?request=GetCapabilities&service=wms&version=\"+this.rocksConfigService.config.geoserverWmsVersion).success(function(r,n,i,s){e.wmsLayerNames=e.getLayerNamesFromWmsCapsJson(e.xmlToJson($.parseXML(r))),t.resolve(e.wmsLayerNames)}).error(function(e){console.log(\"GetCapabilities request failed\"),console.log(e),t.error()}),t.promise},e.prototype.getLayerNamesFromWmsCapsJson=function(e){for(var t=e.WMS_Capabilities.Capability.Layer.Layer,r=[],n=0;n<t.length;n++)r.push(t[n].Name[\"#text\"]);return r},e.prototype.xmlToJson=function(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t[\"@attributes\"]={};for(var r=0;r<e.attributes.length;r++){var n=e.attributes.item(r);t[\"@attributes\"][n.nodeName]=n.nodeValue}}}else 3==e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes.item(i),o=s.nodeName;if(\"undefined\"==typeof t[o])t[o]=this.xmlToJson(s);else{if(\"undefined\"==typeof t[o].push){var c=t[o];t[o]=[],t[o].push(c)}t[o].push(this.xmlToJson(s))}}return t},e.$inject=[\"$q\",\"$http\",\"rocksConfigService\"],e}();t.GwsUtilService=r,angular.module(\"explorer.rockproperties.gwsutil\",[]).factory(\"gwsUtilService\",[\"$q\",\"$http\",\"rocksConfigService\",function(t,r,n){return new e.gwsUtilService.GwsUtilService(t,r,n)}])}(t=e.gwsUtilService||(e.gwsUtilService={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r,n,i,s,o){var c=this;this.$q=e,this.$http=t,this.$rootScope=r,this.loadingSpinnerService=n,this.rocksClipShipService=i,this.rocksConfigService=s,this.gwsUtilService=o,this.propertyQuery=\"\",this.$inject=[\"$q\",\"$http\",\"$rootScope\",\"loadingSpinnerService\",\"rocksClipShipService\",\"rocksConfigService\",\"gwsUtilService\"],this.$rootScope.$on(\"rocks.config.ready\",function(){c.baseUrl=c.rocksConfigService.config.geoserverWfsUrl+\"?\",angular.forEach(c.rocksConfigService.config.geoserverWfsExportParams,function(e,t){c.baseUrl+=t+\"=\"+e+\"&\"}),c.baseUrl=c.baseUrl.slice(0,-1),c.gwsUtilService.getWfsFeatureTypeNames().then(function(e){c.wfsLayerNames=e})})}return e.prototype.startClipShip=function(e,t,r){var n=this;this.loading=!0,this.loadingSpinner||(this.loadingSpinner=this.loadingSpinnerService.addSpinner({width:80,height:80,container:\"#rock-clip-ship-loading\",id:\"clip-ship-spinner\"}),this.loadingSpinner());for(var i=[],s=0;s<e.length;s++)e[s].isSelected&&i.push(e[s].name);if(\"csv\"===t){var o=new JSZip;if(JSZip.support.blob){for(var c=[],s=0;s<this.wfsLayerNames.length;s++){var a=this.buildQuery(i,r,t,[this.wfsLayerNames[s]]),l=this.$http.get(a);c.push(l)}this.$q.all(c).then(function(e){for(var t=0;t<e.length;t++){var r=(e[t].data.match(/\\n/g)||[]).length;if(r>1){var i=n.wfsLayerNames[t].split(\" \").join(\"-\");o.file(i+\".csv\",e[t].data+\"\\n\")}}var s=o.generate({type:\"blob\"});saveAs(s,\"rocks-export.zip\"),n.loading=!1,n.rocksClipShipService.step=\"startDraw\"})}else{for(var s=0;s<this.wfsLayerNames.length;s++)window.open(this.buildQuery(i,r,t,[this.wfsLayerNames[s]]));this.loading=!1}}else this.exportUrl=this.buildQuery(i,r,t,this.wfsLayerNames),this.loading=!1},e.prototype.buildQuery=function(e,t,r,n){function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var s,o=this.getTypeNamesQuery(n),c=\"&CQL_FILTER=BBOX(GEOM,\"+t.west+\",\"+t.south+\",\"+t.east+\",\"+t.north+\")\",a=\"\",l={},p=\"&outputFormat=\"+r,u=!i(l),h=l.hasOwnProperty(\"PROPERTY\"),d=h&&1===Object.keys(l).length?!0:!1;return u&&h?(this.propertyQuery=\"%20AND%20PROPERTY='\"+l.PROPERTY+\"'\",d||(a=this.getFilters(l))):u?(this.propertyQuery=this.getPropertyQuery(e),d||(a=this.getFilters(l))):this.propertyQuery=this.getPropertyQuery(e),ga(\"send\",\"event\",\"explorer-rock-properties\",\"click\",\"clipship data export: \"+r),s=this.baseUrl+o+p+c+a+this.propertyQuery},e.prototype.getFilters=function(e){var t=\"%20AND%20\";for(var r in e)\"PROPERTY\"!==r&&(t=t.concat(r+\"='\"+e[r]+\"'%20AND%20\"));return t=t.substring(0,t.length-9)},e.prototype.getPropertyQuery=function(e){for(var t=\"%20AND%20(\",r=0;r<e.length;r++)t=t.concat(\"PROPERTY='\"+e[r]+\"'%20OR%20\");return t=t.substring(0,t.length-8),t=t.concat(\")\")},e.prototype.getTypeNamesQuery=function(e){for(var t=\"&typeName=\",r=0;r<e.length;r++)t=t.concat(e[r]+\",\");return t=t.substring(0,t.length-1)},e}();t.QueryBuilder=r,angular.module(\"explorer.rockproperties.queryexport\",[]).factory(\"rocksQueryBuilderExport\",[\"$q\",\"$http\",\"$rootScope\",\"loadingSpinnerService\",\"rocksClipShipService\",\"rocksConfigService\",\"gwsUtilService\",function(t,r,n,i,s,o,c){return new e.queryBuilderExport.QueryBuilder(t,r,n,i,s,o,c)}])}(t=e.queryBuilderExport||(e.queryBuilderExport={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(){}return e.prototype.addSpinner=function(e){return function(){function t(e,r){e.transition().ease(\"linear\").duration(r).attrTween(\"transform\",function(){return d3.interpolateString(\"rotate(0)\",\"rotate(360)\")}),setTimeout(function(){t(e,r)},r)}var r=Math.min(e.width,e.height)/2,n=2*Math.PI,i=d3.svg.arc().innerRadius(.5*r).outerRadius(.9*r).startAngle(0),s=d3.select(e.container).append(\"svg\").attr(\"id\",e.id).attr(\"width\",e.width).attr(\"height\",e.height).append(\"g\").attr(\"transform\",\"translate(\"+e.width/2+\",\"+e.height/2+\")\");s.append(\"path\").datum({endAngle:.33*n}).style(\"fill\",\"#4D4D4D\").attr(\"d\",i).call(t,1500)}},e}();t.LoadingSpinnerService=r,angular.module(\"explorer.rockproperties.spinner\",[]).factory(\"loadingSpinnerService\",[function(){return new e.spinnerService.LoadingSpinnerService}])}(t=e.spinnerService||(e.spinnerService={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(){this.view=\"INTRO\"}return e}();t.WmsInspectorState=r,angular.module(\"explorer.rockproperties.inspectorstate\",[]).factory(\"wmsInspectorState\",[function(){return new e.wmsInspectorState.WmsInspectorState}])}(t=e.wmsInspectorState||(e.wmsInspectorState={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r){this.$scope=e,this.wmsInspectorState=t,this.wmsInspectorService=r}return e.$inject=[\"$scope\",\"wmsInspectorState\",\"wmsInspectorService\"],e}();t.WmsInspectorCtrl=r;var n=function(){function e(e,t,r,n,i,s,o,c,a){var l=this;this.$rootScope=e,this.$http=t,this.wmsInspectorState=r,this.assetsService=n,this.configService=i,this.rocksConfigService=s,this.loadingSpinnerService=o,this.gwsUtilService=c,this.rocksClipShipService=a,this.isLoading=!1,this.URL_EXCLUDE=\"?SERVICE=WMS&\",this.SURFACE_GEO=\"GA_Surface_Geology_of_Australia\",this.$inject=[\"$rootScope\",\"$http\",\"wmsInspectorState\",\"assetsService\",\"configService\",\"rocksConfigService\",\"loadingSpinnerService\",\"gwsUtilService\",\"rocksClipShipService\"],this.$rootScope.$on(\"viewer.click.left\",function(e,t){t.degrees={lat:Cesium.Math.toDegrees(t.cartographic.latitude),lon:Cesium.Math.toDegrees(t.cartographic.longitude)},l.rocksClipShipService.isDrawing||l.inspectorEnabled&&t.hasOwnProperty(\"cartographic\")&&(l.$rootScope.$broadcast(\"rocks.accordion.update\",\"wmsInspector\"),l.$rootScope.$broadcast(\"toolbar.toggle.update\",{linked:!1,key:\"rocksClusters\",isActive:!0}),l.wmsInspectorState.targetGeom=t,l.wmsInspectorState.view=\"LAYERSELECT\",l.wmsInspectorState.cameraHeight=Cesium.Ellipsoid.WGS84.cartesianToCartographic(l.rocksConfigService.viewer.camera.position).height)}),this.$rootScope.$on(\"rocks.config.ready\",function(){n.getReferenceFeatureClasses().then(function(e){l.features=e}),l.rocksFeature={wmsUrl:l.rocksConfigService.config.geoserverWmsUrl,name:\"Rock Properties Layer\"}})}return e.prototype.togglePointInspector=function(){this.inspectorEnabled!=this.inspectorEnabled},e.prototype.queryRocks=function(){if(!this.rocksFeature.hasOwnProperty(\"layers\")&&this.gwsUtilService.wmsLayerNames){this.rocksFeature.layers=[];for(var e=0;e<this.gwsUtilService.wmsLayerNames.length;e++)this.rocksFeature.layers.push(this.rocksConfigService.config.geoserverWmsLayerPrefix+this.gwsUtilService.wmsLayerNames[e])}this.queryFeature(this.rocksFeature)},e.prototype.queryFeature=function(e){var t=this;ga(\"send\",\"event\",\"explorer-rock-properties\",\"click\",\"wms inspector query: \"+e.name),this.wmsInspectorState.view=\"FEATUREINFO\",this.toggleLoading();var r=e.wmsUrl,n=e.layers;r.indexOf(this.URL_EXCLUDE)>-1&&(r=r.substring(0,r.length-this.URL_EXCLUDE.length)),r.indexOf(this.SURFACE_GEO)>-1&&(n=this.wmsInspectorState.cameraHeight<=34e4?[n[0]]:[n[1]]);var i=\"?SERVICE=WMS&REQUEST=GetFeatureInfo&VERSION=1.1.1&LAYERS=\"+n+\"&STYLES=&SRS=EPSG%3A4326&FORMAT=image%2Fpng&BBOX=\"+this.wmsInspectorState.targetGeom.degrees.lon+\",\"+this.wmsInspectorState.targetGeom.degrees.lat+\",\"+(this.wmsInspectorState.targetGeom.degrees.lon+3e-4)+\",\"+(this.wmsInspectorState.targetGeom.degrees.lat+3e-4)+\"&QUERY_LAYERS=\"+n+\"&INFO_FORMAT=text%2Fhtml&FEATURE_COUNT=100&WIDTH=2&HEIGHT=2&X=1&Y=1&TRANSPARENT=true&EXCEPTIONS=application%2Fvnd.ogc.se_xml\";this.$http.get(r+i).success(function(e){t.featureInfo=e,t.toggleLoading()}).error(function(e,t,r,n){console.log(\"Couldn't load WMS GetFeatureInfo\"),\nthis.featureInfo=\"<h5>Couldn't load WMS GetFeatureInfo for this layer.</h5><p>You may not be able to access this function for some layers.</p>\",this.toggleLoading()})},e.prototype.toggleLoading=function(){this.loadingSpinner?this.isLoading=!this.isLoading:(this.loadingSpinner=this.loadingSpinnerService.addSpinner({width:60,height:60,container:\"#rocks-inspector-loading\",id:\"rocks-inspector-spinner\"}),this.loadingSpinner(),this.isLoading=!0)},e}();t.WmsInspectorService=n,angular.module(\"explorer.rockproperties.inspector\",[\"explorer.assets\"]).factory(\"wmsInspectorService\",[\"$rootScope\",\"$http\",\"wmsInspectorState\",\"assetsService\",\"configService\",\"rocksConfigService\",\"loadingSpinnerService\",\"gwsUtilService\",\"rocksClipShipService\",function(t,r,n,i,s,o,c,a,l){return new e.wmsInspectorService.WmsInspectorService(t,r,n,i,s,o,c,a,l)}]).controller(\"wmsInspectorCtrl\",e.wmsInspectorService.WmsInspectorCtrl).directive(\"wmsInspectorPanel\",function(){return{templateUrl:\"rockprops/wms-inspector-panel.html\",controller:r,controllerAs:\"wmsInspectorVM\"}})}(t=e.wmsInspectorService||(e.wmsInspectorService={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t,r,n){this.$scope=e,this.wmsPointsService=t,this.rocksPanelService=r,this.wmsInspectorState=n}return e.$inject=[\"$scope\",\"wmsPointsService\",\"rocksPanelService\",\"wmsInspectorState\"],e}();t.RocksWmsPointsCtrl=r;var n=function(){function e(e,t,r,n){var i=this;this.$rootScope=e,this.gwsUtilService=t,this.rocksConfigService=r,this.wmsInspectorState=n,this.inspectorEnabled=!0,this.masterChecked=!0,this.legendParamString=\"\",this.$inject=[\"$rootScope\",\"gwsUtilService\",\"rocksConfigService\",\"wmsInspectorState\"],this.$rootScope.$on(\"rocks.config.ready\",function(){i.init()})}return e.prototype.init=function(){var e=this;this.wmsServiceUrl=this.rocksConfigService.config.geoserverWmsUrl,this.viewer=this.rocksConfigService.viewer,this.restrictedBounds=Cesium.Rectangle.fromDegrees(109,-45,158,-8),this.legendParamString=\"?\",angular.forEach(this.rocksConfigService.config.geoserverWmsLegendParams,function(t,r){e.legendParamString+=r+\"=\"+t+\"&\"}),this.legendParamString=this.legendParamString.slice(0,-1)+\"&LAYER=\",this.gwsUtilService.getWmsLayerNames().then(function(t){e.layers=t,e.getLegendData()})},e.prototype.togglePoints=function(){return this.pointsVisible=!this.pointsVisible,this.wmsLayer?this.wmsLayer.show=this.pointsVisible:this.updatePointsLayer(),this.pointsVisible},e.prototype.toggleChecked=function(){this.masterChecked!=this.masterChecked;for(var e in this.legendData)this.legendData[e].isSelected=this.masterChecked},e.prototype.getLegendData=function(){this.legendData={};for(var e=0;e<this.layers.length;e++)this.legendData[this.layers[e]]={legendUrl:this.wmsServiceUrl+this.legendParamString+this.layers[e],isSelected:!0}},e.prototype.updatePointsLayer=function(){var e=[];for(var t in this.legendData)this.legendData.hasOwnProperty(t)&&this.legendData[t].isSelected===!0&&e.push(t);this.wmsLayer&&this.viewer.imageryLayers.remove(this.wmsLayer),ga(\"send\",\"event\",\"explorer-rock-properties\",\"click\",\"update wms points layer: \"+e.toString()),this.wmsLayer=this.viewer.imageryLayers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({url:this.wmsServiceUrl,layers:e.toString(),rectangle:this.restrictedBounds,parameters:{transparent:\"true\",format:\"image/png\"},enablePickFeatures:!1})),this.wmsLayer.alpha=.7},e}();t.WmsPointsService=n,angular.module(\"explorer.rockproperties.wmspoints\",[]).factory(\"wmsPointsService\",[\"$rootScope\",\"gwsUtilService\",\"rocksConfigService\",\"wmsInspectorState\",function(t,r,n,i){return new e.pointsService.WmsPointsService(t,r,n,i)}]).controller(\"rocksWmsPointsCtrl\",r).directive(\"rocksWmsPointsLegend\",function(){return{templateUrl:\"rockprops/wms-points-panel.html\",controller:r,controllerAs:\"rocksWmsPointsVM\"}})}(t=e.pointsService||(e.pointsService={}))}(rpComponents||(rpComponents={}));var rpComponents;!function(e){var t;!function(t){\"use strict\";var r=function(){function e(e,t){var r=this;this.$rootScope=e,this.rocksConfigService=t,this.zoomLevels=[200,500,2e3,5e3,1e4,5e4,1e5,1e6,15e5,2e6,4e6,65e5,85e5,1e7,15e6,1e8],this.defaultExtent={west:109,south:-45,east:158,north:-8},this.moveEndHandler=function(){r.nextIndex=r.getIndex(Cesium.Ellipsoid.WGS84.cartesianToCartographic(r.viewer.camera.position).height),r.previousIndex>-1&&r.previousIndex!=r.nextIndex&&r.$rootScope.$broadcast(\"rocks.clusters.update\",r.nextIndex),console.log(\"HEIGHT\"),console.log(Cesium.Ellipsoid.WGS84.cartesianToCartographic(r.viewer.camera.position).height),r.previousIndex=r.nextIndex},this.$rootScope.$on(\"rocks.config.ready\",function(){r.viewer=r.rocksConfigService.viewer})}return e.prototype.getIndex=function(e){for(var t=0;t<this.zoomLevels.length;t++)if(e<this.zoomLevels[t])return this.zoomLevels.length-t;return this.zoomLevels.length-1},e.prototype.setActive=function(e){e?(this.previousIndex=this.getIndex(Cesium.Ellipsoid.WGS84.cartesianToCartographic(this.viewer.camera.position).height),this.nextIndex=this.previousIndex,this.viewer.camera.moveEnd.addEventListener(this.moveEndHandler)):this.viewer.camera.moveEnd.removeEventListener(this.moveEndHandler)},e.prototype.getViewExtent=function(e){var t=Cesium.Ellipsoid.WGS84,r=window.devicePixelRatio||1,n=new Cesium.Cartesian2(-e,-e),i=this.viewer.scene.camera.pickEllipsoid(n,t);n=new Cesium.Cartesian2(this.viewer.scene.canvas.width/r+e,this.viewer.scene.canvas.height/r+e);var s=this.viewer.scene.camera.pickEllipsoid(n,t);return null!=i&&null!=s?(i=t.cartesianToCartographic(i),s=t.cartesianToCartographic(s),i.longitude>s.longitude?this.defaultExtent:{west:Cesium.Math.toDegrees(i.longitude),south:Cesium.Math.toDegrees(s.latitude),east:Cesium.Math.toDegrees(s.longitude),north:Cesium.Math.toDegrees(i.latitude)}):this.defaultExtent},e.$inject=[\"$rootScope\",\"rocksConfigService\"],e}();t.ZoomLevelService=r,angular.module(\"explorer.rockproperties.zoom\",[]).factory(\"zoomLevelService\",[\"$rootScope\",\"rocksConfigService\",function(t,r){return new e.zoom.ZoomLevelService(t,r)}])}(t=e.zoom||(e.zoom={}))}(rpComponents||(rpComponents={})),angular.module(\"explorer.rockproperties.templates\",[]).run([\"$templateCache\",function(e){e.put(\"rockprops/clip-ship.html\",'\\n<div ng-show=\"rocksClipShipVM.rocksClipShipService.step == \\'startDraw\\'\">\\n\t<h6 class=\"dis-inline\">\\n\t\t1.\\n\t\t<button ng-click=\"rocksClipShipVM.rocksClipShipService.startDraw()\" style=\"padding: 5px 10px;border-radius: 3px;border: none;\">\\n\t\t\tClick here\\n\t\t</button>\\n\t\tto select an area on the map <i class=\"fa fa-scissors\" style=\"font-size: 16px;\"></i></h6>\\n</div>\\n\\n\\n<div ng-show=\"rocksClipShipVM.rocksClipShipService.step == \\'selectFeatures\\'\">\\n\\n\t<h6 class=\"dis-inline\">2. Select features to download:</h6>\\n\\n\t<div>\\n\\n\t\t<!-- if we have active property filters, use them instead -->\\n\t\t<p ng-show=\"hasAnyFilter\">\\n\t\t\t<i class=\"fa fa-info-circle\"></i> Current filters will be applied to the exported data.\\n\t\t</p>\\n\\n\t\t<div ng-hide=\"hasAnyFilter\">\\n\\n\t\t\t<div style=\"padding: 5px; margin-top: 10px; background: #f0f0f0; border-radius: 3px;\">\\n\t\t\t\t<label>\\n\t\t\t\t\t<input\\n\t\t\t\t\t\ttype=\"checkbox\"\\n\t\t\t\t\t\tng-model=\"masterCheck\"\\n\t\t\t\t\t\tng-disabled=\"hasPropertyFilter\"\\n\t\t\t\t\t\tng-change=\"rocksClipShipVM.rocksFiltersService.setAllExportSelected(masterCheck)\" />\\n\t\t\t\t\t{{ masterCheck ? \\'Deselect\\' : \\'Select\\' }} All\\n\t\t\t\t</label>\\n\t\t\t</div>\\n\\n\t\t\t<label style=\"margin-left: 25px;\" class=\"checkbox\" ng-repeat=\"property in rocksClipShipVM.rocksFiltersService.exportProperties.filterOptions\">\\n\t\t\t\t<input\\n\t\t\t\t\ttype=\"checkbox\"\\n\t\t\t\t\tvalue=\"property.isSelected\"\\n\t\t\t\t\tng-model=\"property.isSelected\"\\n\t\t\t\t\tng-checked=\"masterCheck\"\\n\t\t\t\t\tng-disabled=\"hasPropertyFilter\">\\n\t\t\t\t{{ property.name }}\\n\t\t\t</label>\\n\\n\t\t</div>\\n\\n\t\t<div style=\"margin: 20px 0px 20px 0px;\">\\n\t\t\t<label title=\"Export Format\">Export Format</label>\\n\t\t\t<select ng-change=\"rocksClipShipVM.rocksClipShipService.updateExportFormat(exportFormats.SelectedOption)\"\\n\t\t\t\t\tng-model=\"exportFormats.SelectedOption\"\\n\t\t\t\t\tname=\"format\"\\n\t\t\t\t\tng-options=\"option for option in rocksClipShipVM.rocksClipShipService.exportFormats\"\\n\t\t\t\t\tng-class=\"form-control\"\\n\t\t\t\t\tclass=\"filter-input\"\\n\t\t\t\t\tstyle=\"float: right; width: 160px;\">\\n\t\t\t\t<option value=\"\" class=\"\">--select--</option>\\n\t\t\t</select>\\n\t\t</div>\\n\\n\t\t<a ng-click=\"rocksClipShipVM.rocksClipShipService.openGeoserver()\" style=\"font-size: 11px; margin-top: 20px; color: blue; text-decoration: underline;\">\\n\t\t\tMore Options via GeoServer Dashboard\\n\t\t</a>\\n\\n\t\t<div style=\"margin-top: 20px;\">\\n\t\t\t<button\\n\t\t\t\ttype=\"button\"\\n\t\t\t\tclass=\"btn btn-default\"\\n\t\t\t\tng-click=\"rocksClipShipVM.rocksClipShipService.step = \\'startDraw\\'; rocksClipShipVM.rocksClipShipService.isDrawing = false\"\\n\t\t\t\ttitle=\"Cancel Download\"\\n\t\t\t\tstyle=\"width: 40%; float: left;\">Cancel</button>\\n\t\t\t<button\\n\t\t\t\ttype=\"button\"\\n\t\t\t\tclass=\"btn btn-default focusMe\"\\n\t\t\t\tng-click=\"rocksClipShipVM.startClipShip()\"\\n\t\t\t\tstyle=\"width: 40%; float: right\"\\n\t\t\t\ttitle=\"Select one or more reference feature classes before continuing.\"\\n\t\t\t\tng-disabled=\"(rocksClipShipVM.rocksFiltersService.exportProperties.filterOptions | noClipSelected) || (!rocksClipShipVM.rocksClipShipService.targetFormat)\">Next</button>\\n\t\t</div>\\n\\n\t</div>\\n\\n</div>\\n\\n<div ng-show=\"rocksClipShipVM.rocksClipShipService.step == \\'download\\'\">\\n\\n\t<h6>3. Data Export:</h6>\\n\\n\t<div ng-hide=\"rocksClipShipVM.rocksQueryBuilderExport.loading\">\\n\\n\t\t<p ng-show=\"rocksClipShipVM.rocksClipShipService.targetFormat === \\'application/json\\'\" style=\"margin-top: 40px;\">\\n\t\t\t<i class=\"fa fa-info-circle\"></i> Once json has loaded, save page as a .json file.\\n\t\t</p>\\n\\n\t\t<p class=\"warning-block\" style=\"margin-top: 20px;\">\\n\t\t\t<i class=\"fa fa-info-circle\"></i> Large data sets may take several minutes to export.\\n\t\t</p>\\n\\n\t\t<a\\n\t\t\tclass=\"btn btn-default\"\\n\t\t\ttarget=\"_blank\"\\n\t\t\thref=\"{{rocksClipShipVM.rocksQueryBuilderExport.exportUrl}}\"\\n\t\t\tng-click=\"rocksClipShipVM.rocksClipShipService.step = \\'startDraw\\'; rocksClipShipVM.rocksClipShipService.isDrawing = false\"\\n\t\t\tstyle=\"width: 100%; margin-top: 30px;\"\\n\t\t\trole=\"button\">\\n\t\t\t<i class=\"fa fa-download\"></i> Download {{ rocksClipShipVM.rocksClipShipService.targetFormat }}\\n\t\t</a>\\n\\n\t\t<a\\n\t\t\tclass=\"btn btn-default\"\\n\t\t\thref=\"javascript:;\"\\n\t\t\tng-click=\"rocksClipShipVM.rocksClipShipService.step = \\'selectFeatures\\'\"\\n\t\t\tstyle=\"width: 100%; margin-top: 10px;\"\\n\t\t\trole=\"button\">\\n\t\t\t<i class=\"fa fa-arrow-left\"></i> Back\\n\t\t</a>\\n\\n\t</div>\\n\\n</div>\\n\\n<div id=\"rock-clip-ship-loading\" ng-show=\"rocksClipShipVM.rocksQueryBuilderExport.loading\">\\n\t<p>Preparing Data..</p>\\n</div>'),e.put(\"rockprops/cluster-filters.html\",'\\n<!-- TODO plug into rock props filter service -->\\n\\n<div ng-hide=\"clusterInspectorVM.rocksPanelService.clustersEnabled\">\\n\tEnable Cluster Features to apply filters.\\n</div>\\n\\n<div ng-show=\"clusterInspectorVM.rocksPanelService.clustersEnabled\">\\n\\n\\n\t<div ng-repeat=\"filter in rocksClusterFilterVM.rocksFiltersService.filters\" style=\"padding-top:7px;position:relative; overflow-x: hidden;overflow-y: auto;\">\\n\\n\t\t<label style=\"font-size: 11px;\" title=\"{{filter.filterLabel}}\">{{filter.filterLabel}}</label>\\n\t\t<select\\n\t\t\t\tng-model=\"filter.ClusterOption\"\\n\t\t\t\tname=\"filter.filterType\"\\n\t\t\t\tng-options=\"option as option for option in filter.filterOptions\"\\n\t\t\t\tng-class=\\'form-control\\'\\n\t\t\t\tclass=\\'filter-input\\'\\n\t\t\t\tstyle=\"float:left;width:100%;position:relative;\">\\n\t\t\t<option value=\"\" selected>--select--</option>\\n\t\t</select>\\n\\n\t</div>\\n\\n\t<div style=\"text-align: center;\">\\n\t\t<a class=\"btn btn-default\" style=\"margin: 10px;\" ng-click=\"rocksClusterFilterVM.rocksFiltersService.applyFilters()\" href=\"javascript:;\">\\n\t\t\t<i class=\"fa fa-filter fa-lg\"></i>\\n\t\t\tApply\\n\t\t</a>\\n\\n\t\t<a class=\"btn btn-default\" style=\"margin: 10px;\" ng-click=\"rocksClusterFilterVM.rocksFiltersService.clearFilters()\" href=\"javascript:;\">\\n\t\t\t<i class=\"fa fa-remove fa-lg\"></i>\\n\t\t\tClear\\n\t\t</a>\\n\\n\t\t<p ng-show=\"filterResultCount()\" style=\"text-align: left; margin: 10px; font-size: 14px;\">\\n\t\t\t<strong>Record Count: </strong>\\n\t\t\t14320\\n\t\t</p>\\n\t</div>\\n\\n</div>\\n'),e.put(\"rockprops/cluster-inspector.html\",'\\n<div ng-hide=\"clusterInspectorVM.rocksPanelService.clustersEnabled\">\\n\tEnable Cluster Features to use the inspector tool.\\n</div>\\n\\n<div ng-show=\"clusterInspectorVM.rocksPanelService.clustersEnabled\">\\n\\n\t<p>Click on a cluster to see:</p>\\n\\n\t<label class=\"radio-inline\">\\n\t\t<input\\n\t\t\ttype=\"radio\"\\n\t\t\tng-model=\"clusterInspectorVM.clusterInspectorService.inspectMode\"\\n\t\t\tvalue=\"CHART\"> Summary charts\\n\t</label>\\n\t<label class=\"radio-inline\">\\n\t\t<input\\n\t\t\ttype=\"radio\"\\n\t\t\tng-model=\"clusterInspectorVM.clusterInspectorService.inspectMode\"\\n\t\t\tvalue=\"LIST\"> Results list\\n\t</label>\\n\\n\t<div id=\"cluster-result-list-loading\" style=\"padding-top: 10px; text-align: center;\"></div>\\n\\n\\n\t<div ng-show=\"clusterInspectorVM.clusterInspectorService.listReady\">\\n\\n\t\t<div ng-if=\"clusterInspectorVM.clusterInspectorService.listFeatures.totalFeatures > 0\" class=\"alert alert-success\" style=\"margin-top: 30px;\">\\n\t\t\tFeatures loaded:\\n\t\t\t{{\\n\t\t\t\tclusterInspectorVM.clusterInspectorService.listFeatures.totalFeatures +\\n\t\t\t\tclusterInspectorVM.clusterInspectorService.listIndex\\n\t\t\t}}\\n\t\t</div>\\n\\n\t\t<div ng-if=\"!(clusterInspectorVM.clusterInspectorService.listFeatures.totalFeatures > 0)\" class=\"alert alert-warning\" style=\"margin-top: 30px;\">\\n\t\t\tNo more features to load at this location.\\n\t\t</div>\\n\\n\t\t<div ng-repeat=\"feature in clusterInspectorVM.clusterInspectorService.listFeatures.features\" class=\"rocks-result-list-feature\">\\n\\n\t\t\t<table class=\"table table-hover table-striped\">\\n\\n\t\t\t\t<h5>ID: {{feature.id}}</h5>\\n\t\t\t\t<tbody>\\n\t\t\t\t\t<tr>\\n\t\t\t\t\t\t<td><strong>GEOM</strong></td>\\n\t\t\t\t\t\t<td>{{feature.geometry.coordinates[0]}}, {{feature.geometry.coordinates[1]}}</td>\\n\t\t\t\t\t</tr>\\n\t\t\t\t\t<tr ng-repeat=\"(key, value) in feature.properties\">\\n\t\t\t\t\t\t<td><strong>{{key}}</strong></td>\\n\t\t\t\t\t\t<td>{{value}}</td>\\n\t\t\t\t\t</tr>\\n\t\t\t\t</tbody>\\n\\n\t\t\t</table>\\n\t\t</div>\\n\\n\t\t<a\\n\t\t\tng-show=\"clusterInspectorVM.clusterInspectorService.listFeatures.totalFeatures <= clusterInspectorVM.clusterInspectorService.maxListStep\"\\n\t\t\tclass=\"btn btn-default\"\\n\t\t\tstyle=\"margin-top: 40px; width: 100%;\"\\n\t\t\tng-click=\"clusterInspectorVM.clusterInspectorService.loadNextListStep()\"\\n\t\t\thref=\"javascript:;\">\\n\t\t\tLoad more records\\n\t\t</a>\\n\\n\t</div>\\n\\n</div>\\n'),e.put(\"rockprops/cluster-summary.html\",'<div id=\"clusterSummaryChart\" ng-show=\"chartState.targetChartId == \\'clusterSummaryChart\\'\">\\n\\n\t<div class=\"btn-group\" style=\"position: absolute;right: 10px;top: 10px;\">\\n\t\t<button type=\"button\" class=\"btn btn-default\" title=\"Close charts\" ng-click=\"clusterChartVM.clusterChartService.hideChart(); clusterChartVM.clusterService.clearHighlighted();\">\\n\t\t\t<i class=\"fa fa-times-circle\" role=\"presentation\" style=\"font-size:16px; color:black\"></i>\\n\t\t</button>\\n\t</div>\\n\\n\t<div id=\"cluster-summary-chart-d3\"></div>\\n\t<div id=\"cluster-summary-chart-loading\"></div>\\n\\n</div>'),e.put(\"rockprops/control-panel.html\",'<div>\\n\\n\t<div class=\"rocks-accordion\">\\n\t\t<div class=\"rocks-toggle-button\" title=\"Show/hide cluster features\">\\n\t\t\t<input\\n\t\t\t\ttype=\"checkbox\"\\n\t\t\t\tng-model=\"controlPanelVM.rocksPanelService.clustersEnabled\"\\n\t\t\t\tng-change=\"controlPanelVM.rocksPanelService.toggleClusters()\" />\\n\t\t</div>\\n\t\t<button class=\"title\" ng-click=\"controlPanelVM.setTargetPanel(\\'clusterFeatures\\')\">\\n\t\t\t<i class=\"fa fa-{{ controlPanelVM.targetPanel == \\'clusterFeatures\\' ? \\'minus\\' : \\'plus\\' }}\"></i>\\n\t\t\tCluster Features\\n\t\t</button>\\n\t</div>\\n\t<div class=\"rocks-accordion-content\" ng-show=\"controlPanelVM.targetPanel == \\'clusterFeatures\\'\">\\n\\n\t\t<uib-tabset active=\"activeJustified\" justified=\"true\">\\n\t\t\t<uib-tab index=\"0\" heading=\"Inspect\" style=\"padding: 0px 0px 20px 0px;\">\\n\t\t\t\t<rocks-cluster-inspector-panel></rocks-cluster-inspector-panel>\\n\t\t\t</uib-tab>\\n\t\t\t<uib-tab index=\"1\" heading=\"Filter\" style=\"padding: 0px 0px 20px 0px;\">\\n\t\t\t\t<rocks-cluster-filters></rocks-cluster-filters>\\n\t\t\t</uib-tab>\\n\t\t</uib-tabset>\\n\\n\t</div>\\n\\n\t<div class=\"rocks-accordion\">\\n\t\t<div class=\"rocks-toggle-button\" title=\"Show/hide point features WMS layer\">\\n\t\t\t<input\\n\t\t\t\ttype=\"checkbox\"\\n\t\t\t\tng-model=\"controlPanelVM.rocksPanelService.pointsEnabled\"\\n\t\t\t\tng-change=\"controlPanelVM.rocksPanelService.togglePoints()\" />\\n\t\t</div>\\n\t\t<div class=\"title\" ng-click=\"controlPanelVM.setTargetPanel(\\'pointFeatures\\')\">\\n\t\t\t<i class=\"fa fa-{{ controlPanelVM.targetPanel == \\'pointFeatures\\' ? \\'minus\\' : \\'plus\\' }}\"></i>\\n\t\t\tPoint Features (WMS)\\n\t\t</div>\\n\t</div>\\n\\n\t<div class=\"rocks-accordion-content\" ng-show=\"controlPanelVM.targetPanel == \\'pointFeatures\\'\">\\n\t\t<rocks-wms-points-legend></rocks-wms-points-legend>\\n\t</div>\\n\\n\\n\t<div class=\"rocks-accordion\">\\n\t\t<div class=\"rocks-toggle-button\" title=\"Show/hide point features WMS layer\">\\n\t\t\t<input\\n\t\t\t\ttype=\"checkbox\"\\n\t\t\t\tng-model=\"controlPanelVM.wmsInspectorService.inspectorEnabled\"\\n\t\t\t\tng-change=\"controlPanelVM.wmsInspectorService.togglePointInspector()\" />\\n\t\t</div>\\n\t\t<div class=\"title\" ng-click=\"controlPanelVM.setTargetPanel(\\'wmsInspector\\')\">\\n\t\t\t<i class=\"fa fa-{{ controlPanelVM.targetPanel == \\'wmsInspector\\' ? \\'minus\\' : \\'plus\\' }}\"></i>\\n\t\t\tWMS Inspector (GetFeatureInfo)\\n\t\t</div>\\n\t</div>\\n\t<div class=\"rocks-accordion-content\" ng-show=\"controlPanelVM.targetPanel == \\'wmsInspector\\'\">\\n\t\t<wms-inspector-panel></wms-inspector-panel>\\n\t</div>\\n\\n\\n\t<div class=\"rocks-accordion\">\\n\t\t<div class=\"title w100\" ng-click=\"controlPanelVM.setTargetPanel(\\'clipShip\\')\">\\n\t\t\t<i class=\"fa fa-{{ controlPanelVM.targetPanel == \\'clipShip\\' ? \\'minus\\' : \\'plus\\' }}\"></i>\\n\t\t\tDownload Rock Property Data\\n\t\t</div>\\n\t</div>\\n\\n\t<div class=\"rocks-accordion-content\" ng-show=\"controlPanelVM.targetPanel == \\'clipShip\\'\">\\n\\n\t\t<rocks-clip-ship></rocks-clip-ship>\\n\\n\t</div>\\n\\n</div>'),e.put(\"rockprops/wms-inspector-panel.html\",'\\n<div ng-show=\"wmsInspectorVM.wmsInspectorState.view == \\'INTRO\\'\">\\n\t<div ng-if=\"wmsInspectorVM.wmsInspectorService.inspectorEnabled\">Click the map to get feature info.</div>\\n\t<div ng-if=\"!wmsInspectorVM.wmsInspectorService.inspectorEnabled\">Enable WMS Inspector to interrogate WMS layers.</div>\\n</div>\\n\\n<div ng-show=\"wmsInspectorVM.wmsInspectorState.view == \\'LAYERSELECT\\'\">\\n\\n\t<p style=\"margin: 10px 0px;\" tooltip=\"Approx 30m accuracy\">\\n\t\tSelect a layer to query:\\n\t\t<code>\\n\t\t\t{{wmsInspectorVM.wmsInspectorState.targetGeom.degrees.lat | number : 2}},\\n\t\t\t{{wmsInspectorVM.wmsInspectorState.targetGeom.degrees.lon | number : 2}}\\n\t\t</code>\\n\t</p>\\n\\n\t<a\\n\t\tclass=\"btn btn-default\"\\n\t\tstyle=\"width: 100%; margin: 2px 0px\"\\n\t\tng-click=\"wmsInspectorVM.wmsInspectorService.queryRocks()\"\\n\t\thref=\"javascript:;\">\\n\t\tRock Properties Data\\n\t</a>\\n\\n\t<a\\n\t\tng-repeat=\"feature in wmsInspectorVM.wmsInspectorService.features\"\\n\t\tclass=\"btn btn-default\"\\n\t   \tstyle=\"width: 100%; margin: 2px 0px\"\\n\t   \tng-click=\"wmsInspectorVM.wmsInspectorService.queryFeature(feature)\"\\n\t   \thref=\"javascript:;\">\\n\t\t{{feature.name}}\\n\t</a>\\n\\n\t<a class=\"btn btn-default\"\\n\t   style=\"width: 100%; margin-top: 20px\"\\n\t   ng-click=\"wmsInspectorVM.wmsInspectorState.view = \\'INTRO\\'\"\\n\t   href=\"javascript:;\">\\n\t\t<i class=\"fa fa-times fa-lg\"></i>\\n\t\tCancel\\n\t</a>\\n\\n</div>\\n\\n\\n<div ng-show=\"wmsInspectorVM.wmsInspectorState.view == \\'FEATUREINFO\\'\">\\n\\n\t<div ng-show=\"wmsInspectorVM.wmsInspectorService.isLoading\">\\n\t\t<div id=\"rocks-inspector-loading\"></div>\\n\t</div>\\n\\n\t<div ng-hide=\"wmsInspectorVM.wmsInspectorService.isLoading\">\\n\\n\t\t<p style=\"margin: 10px 0px;\" tooltip=\"Approx 30m accuracy\">\\n\t\t\tFeature Info for:\\n\t\t\t<code>\\n\t\t\t\t{{wmsInspectorVM.wmsInspectorState.targetGeom.degrees.lat | number : 2}},\\n\t\t\t\t{{wmsInspectorVM.wmsInspectorState.targetGeom.degrees.lon | number : 2}}\\n\t\t\t</code>\\n\t\t</p>\\n\\n\t\t<!-- put html here.. -->\\n\t\t<div ng-bind-html=\"wmsInspectorVM.wmsInspectorService.featureInfo\"></div>\\n\\n\t</div>\\n\\n\t<div>\\n\\n\t\t<a class=\"btn btn-default\"\\n\t\t   style=\"width: 49%; margin-top: 20px\"\\n\t\t   ng-click=\"wmsInspectorVM.wmsInspectorState.view = \\'LAYERSELECT\\'\"\\n\t\t   href=\"javascript:;\">\\n\t\t\t<i class=\"fa fa-arrow-left fa-lg\"></i>\\n\t\t\tBack\\n\t\t</a>\\n\\n\t\t<a class=\"btn btn-default\"\\n\t\t   style=\"width: 49%; margin-top: 20px\"\\n\t\t   ng-click=\"wmsInspectorVM.wmsInspectorState.view = \\'INTRO\\'\"\\n\t\t   href=\"javascript:;\">\\n\t\t\t<i class=\"fa fa-times fa-lg\"></i>\\n\t\t\tCancel\\n\t\t</a>\\n\\n\t</div>\\n\\n</div>'),e.put(\"rockprops/wms-points-panel.html\",'<div ng-hide=\"rocksWmsPointsVM.rocksPanelService.pointsEnabled\">\\n\tEnable Point Features to view layers.\\n</div>\\n\\n<div ng-show=\"rocksWmsPointsVM.rocksPanelService.pointsEnabled\">\\n\\n\t<div style=\"padding: 5px 10px; margin-left: -10px; background: #f0f0f0; border-radius: 3px;\">\\n\t\t<label>\\n\t\t\t<input\\n\t\t\t\ttype=\"checkbox\"\\n\t\t\t\tng-model=\"rocksWmsPointsVM.wmsPointsService.masterChecked\"\\n\t\t\t\tng-change=\"rocksWmsPointsVM.wmsPointsService.toggleChecked()\"\\n\t\t\t\tng-disabled=\"!rocksWmsPointsVM.rocksPanelService.pointsEnabled\"/>\\n\t\t\t{{ rocksWmsPointsVM.wmsPointsService.masterChecked ? \\'Deselect\\' : \\'Select\\' }} all layers\\n\t\t</label>\\n\t</div>\\n\\n\t<div ng-repeat=\"legend in rocksWmsPointsVM.wmsPointsService.legendData\" class=\\'rocks-points-legend-item\\'>\\n\\n\t\t<label>\\n\t\t\t<input\\n\t\t\ttype=\"checkbox\"\\n\t\t\tng-model=\"legend.isSelected\" />\\n\t\t\t<img ng-src=\"{{legend.legendUrl}}\" alt=\"{{legend}} legend icon\" />\\n\t\t</label>\\n\\n\t</div>\\n\\n\t<a class=\"btn btn-default\"\\n\t   style=\"width: 100%; margin-top: 20px\"\\n\t   ng-click=\"rocksWmsPointsVM.wmsPointsService.updatePointsLayer()\"\\n\t   href=\"javascript:;\">\\n\t\t<i class=\"fa fa-refresh fa-lg\"></i>\\n\t\tUpdate layers\\n\t</a>\\n\\n</div>')}]);\n//# sourceMappingURL=explorer-rock-properties-components.min.js.map\n"]}